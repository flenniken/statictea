id stf file version 0.0.0

## Test global variables.

# Like local variables, you create global variables with template
# statements.  All commands have access to them and they are stored in
# the g dictionary.

file cmd.sh command nonZeroReturn
$statictearoot/bin/statictea \
  -t=template.html -r=result.html >stdout 2>stderr
endfile

---file---template.html-------
Use the undefined global.
$$ nextline
g.name => {g.name}

$$ # Define the g.name global.
$$ block g.name = "tea"
$$ endblock

Use the global variable.
$$ nextline
g.name => {g.name}


Use the global variable again.
$$ nextline
g.name => {g.name}
---endfile---------------------



---file---result.expected------
Use the undefined global.
g.name => {g.name}


Use the global variable.
g.name => tea


Use the global variable again.
g.name => tea
---endfile--------------------

file stdout.expected
endfile

file stderr.expected
template.html(3): w58: The replacement variable doesn't exist: g.name.
endfile

expected result.expected == result.html
expected stdout.expected == stdout
expected stderr.expected == stderr

