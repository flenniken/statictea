id stf file version 0.0.0

## Test unicode in strings

# Here are the file line attributes:
#   noLastEnding command nonZeroReturn

--- file cmd.sh command nonZeroReturn
$statictea \
  -l=log.txt \
  -s=server.json \
  -j=shared.json \
  -t=tmpl.txt \
  -r=result.html >stdout 2>stderr
--- endfile



# Run a command over the log file that removes the time prefix then
# extracts the lines generates by template commands ignoring the lines
# generated by the system.
--- file log.sh command
cat log.txt | cut -c 26- | grep "^tmpl.txt" >log.filtered | true
--- endfile

# The following commented out line can be used to remove the time and
# filename prefix from the log lines. Use it in place of the other
# log.sh command.
# cat log.txt | sed 's/^.*); //' >log.filtered

--- file tmpl.txt
$$ block
$$ : a = "unicode U+120F3 íÉ≥;; CUNEIFORM SIGN GAL GAD OVER GAD GAR OVER GAR"
$$ : b = "103A9 êé© OLD PERSIAN SIGN JA"
$$ : c = "\u0031\u0032\u0033"
$$ : d = "10FE1 \uD803\uDFE1 ELYMAIC LETTER BETH"
{a}
{b}
{c}
{d}
$$ endblock

# No ending quote.
$$ nextline a = "abc

# No ending quote.
$$ nextline a = len("abc)

# No ending quote.
$$ nextline a = len("abc+
$$ : defgh)

--- endfile

--- file server.json
{
  "name": "server",
  "type": "json"
}
--- endfile

--- file shared.json
{
  "name": "shared",
  "type": "json"
}
--- endfile

--- file result.expected
unicode U+120F3 íÉ≥;; CUNEIFORM SIGN GAL GAD OVER GAD GAR OVER GAR
103A9 êé© OLD PERSIAN SIGN JA
123
10FE1 êø° ELYMAIC LETTER BETH

# No ending quote.

# No ending quote.

# No ending quote.

--- endfile

--- file stdout.expected
--- endfile

--- file stderr.expected
tmpl.txt(13): w139: No ending double quote.
statement: a = "abc
                   ^
tmpl.txt(16): w139: No ending double quote.
statement: a = len("abc)
                        ^
tmpl.txt(19): w139: No ending double quote.
statement: a = len("abcdefgh)
                             ^
--- endfile

--- file log.filtered.expected
--- endfile

--- file log.txt.expected
--- endfile

--- expected result.expected == result.html
--- expected stdout.expected == stdout
--- expected stderr.expected == stderr
--- expected log.filtered.expected == log.filtered
#--- expected log.txt.expected == log.txt
