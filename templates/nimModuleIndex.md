$$ # StaticTea template for generating a markdown index for the source files.
$$ #
# StaticTea Modules

StaticTea nim source code documentation.

$$ # Sort the index by filenames.
$$ block
$$ : g.modules = sort(s.modules, "ascending", "sensitive", "filename")
$$ endblock
$$ #
$$ # Show the dependency svg file. Wrap it with a do nothing link
$$ # to prevent github from showing the raw svg source when clicking on it.
$$ #
[![Module Dependencies](staticteadep.svg)](#)

$$ # Output module names and a short descrition.
$$ # Use the description's first sentence to describe the module.
$$ nextline
$$ : t.repeat = len(g.modules)
$$ : entry = get(g.modules, t.row, dict())
$$ : fullPath = get(entry, "filename", "")
$$ : path = path(fullPath, "/")
$$ : mdName = concat(path.basename, ".md")
$$ : description = get(entry, "description", "")
$$ : # Use the first sentence for the short description.
$$ : short = slice(description, 0, add(find(description, ".", -1), 1))
* [{path.filename}]({mdName}) &mdash; {short}

$$ # Show the nim module dependency svg file.
# Nim Module Usage
[<img src="staticteadep2.svg" width="500">](#nim-module-usage)

---
⦿ Markdown page generated by [StaticTea](https://github.com/flenniken/statictea/) from nim doc comments. ⦿
