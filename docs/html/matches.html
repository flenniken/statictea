<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
</head>
<style>
body {
    max-width: 40em;
    font-size: 2em;
    margin-left: 1em;
}

#staticteadep {
    width: 100%;
}

.signature {
    color: green;
}

.description {
    white-space: pre-wrap;
}

.nim-code {
    border-left: 6px solid green;
    padding-left: 10px;
}
</style>
<body>
<h1>matches.nim</h1>

Methods for matching sub-strings.

Nim source code: <a href="../../src/matches.nim">matches.nim</a>

<h1>Index</h1>

<ul>
<li>const:  <a href="#commands">commands</a> &mdash; The StaticTea commands.</li>
<li> <a href="#parseprepost">parsePrepost</a> &mdash; Parse the prepost item on the terminal command line.</li>
<li> <a href="#matchprefix">matchPrefix</a> &mdash; Match lines that start with one of the prefixes in the given table plus optional following whitespace.</li>
<li> <a href="#matchcommand">matchCommand</a> &mdash; Match statictea commands.</li>
<li> <a href="#matchlastpart">matchLastPart</a> &mdash; Match the last part of a command line.</li>
<li> <a href="#getlastpart">getLastPart</a> &mdash; Return the optional plus sign and line endings from the line.</li>
<li> <a href="#matchtabspace">matchTabSpace</a> &mdash; Match one or more spaces or tabs starting at the given position.</li>
<li> <a href="#emptyorspaces">emptyOrSpaces</a> &mdash; Return true when the text is empty or all whitespace from start to the end.</li>
<li> <a href="#matchequalsign">matchEqualSign</a> &mdash; Match an equal sign or "&=" and the optional trailing whitespace.</li>
<li> <a href="#matchcommaparentheses">matchCommaParentheses</a> &mdash; Match a comma or right parentheses and the optional trailing whitespace.</li>
<li> <a href="#matchnumber">matchNumber</a> &mdash; Match a number and the optional trailing whitespace.</li>
<li> <a href="#matchnumbernotcached">matchNumberNotCached</a> &mdash; Match a number and the optional trailing whitespace.</li>
<li> <a href="#matchuptoleftbracket">matchUpToLeftBracket</a> &mdash; Match everything up to a left backet.</li>
<li> <a href="#matchfileline">matchFileLine</a> &mdash; Match a file and line number like: filename(234).</li>
<li> <a href="#matchversion">matchVersion</a> &mdash; Match a StaticTea version number.</li>
<li> <a href="#matchversionnotcached">matchVersionNotCached</a> &mdash; Match a StaticTea version number.</li>
<li> <a href="#matchdotnames">matchDotNames</a> &mdash; Matches variable dot names and surrounding whitespace.</li>
<li>type:  <a href="#groupsymbol">GroupSymbol</a> &mdash; Grouping symbols we search for in the statements.</li>
<li> <a href="#matchcommaorsymbol">matchCommaOrSymbol</a> &mdash; Match a comma or the symbol and the optional trailing whitespace.</li>
<li> <a href="#matchsymbol">matchSymbol</a> &mdash; Match the symbol and the optional trailing whitespace.</li>
<li> <a href="#matchnotorparen">matchNotOrParen</a> &mdash; Match "not " or "(" and the trailing whitespace.</li>
<li> <a href="#matchboolexproperator">matchBoolExprOperator</a> &mdash; Match boolean expression operators (bool operators plus compareh operators) and the trailing whitespace.</li>
<li> <a href="#matchcompareoperator">matchCompareOperator</a> &mdash; Match the compare operators and the trailing whitespace.</li>
<li> <a href="#matchreplcmd">matchReplCmd</a> &mdash; Match the REPL commands and the trailing optional whitespace.</li>
<li> <a href="#matchparametertype">matchParameterType</a> &mdash; Match a parameter type and the trailing whitespace.</li>
<li> <a href="#matchdoccomment">matchDocComment</a> &mdash; Match a doc comment.</li>
<li> <a href="#matchreturnstatement">matchReturnStatement</a> &mdash; Match a return statement.</li>
</ul>

<h3 id=commands>commands</h3>

<pre class="description">
The StaticTea commands.
* nextline -- make substitutions in the next line
* block —- make substitutions in the next block of lines
* replace -— replace the block with a variable
* "#" -- code comment
* ":" -- continue a command
* endblock -- end the block and replace commands
</pre>

<pre class="nim-code">
commands: array[6, string] = ["nextline", "block", "replace", "#", ":",
                              "endblock"]
</pre>

<h3 id=parseprepost>parsePrepost</h3>

<pre class="description">
Parse the prepost item on the terminal command line.  A prefix is followed by an optional postfix, prefix[,postfix].  Each part contains 1 to 20 ascii characters including spaces but without control characters or commas.
</pre>

<pre class="nim-code">
proc parsePrepost(str: string): Option[tuple[prefix: string, postfix: string]]
</pre>

<h3 id=matchprefix>matchPrefix</h3>

<pre class="description">
Match lines that start with one of the prefixes in the given table plus optional following whitespace.
</pre>

<pre class="nim-code">
proc matchPrefix(line: string; prefixes: seq[string]; start: Natural = 0): Option[
    Matches]
</pre>

<h3 id=matchcommand>matchCommand</h3>

<pre class="description">
Match statictea commands.
</pre>

<pre class="nim-code">
proc matchCommand(line: string; start: Natural = 0): Option[Matches]
</pre>

<h3 id=matchlastpart>matchLastPart</h3>

<pre class="description">
Match the last part of a command line.  It matches the optional continuation plus character, the optional postfix and the optional line endings. A match has two groups, the plus sign and the line ending. When nothing at the end, return groups: "", "".
</pre>

<pre class="nim-code">
proc matchLastPart(line: string; postfix: string; start: Natural = 0): Option[
    Matches]
</pre>

<h3 id=getlastpart>getLastPart</h3>

<pre class="description">
Return the optional plus sign and line endings from the line.
</pre>

<pre class="nim-code">
proc getLastPart(line: string; postfix: string): Option[Matches]
</pre>

<h3 id=matchtabspace>matchTabSpace</h3>

<pre class="description">
Match one or more spaces or tabs starting at the given position.
</pre>

<pre class="nim-code">
proc matchTabSpace(line: string; start: Natural = 0): Option[Matches]
</pre>

<h3 id=emptyorspaces>emptyOrSpaces</h3>

<pre class="description">
Return true when the text is empty or all whitespace from start to the end.
</pre>

<pre class="nim-code">
proc emptyOrSpaces(text: string; start: Natural = 0): bool
</pre>

<h3 id=matchequalsign>matchEqualSign</h3>

<pre class="description">
Match an equal sign or "&=" and the optional trailing whitespace. Return the operator in the group, "=" or "&=".
</pre>

<pre class="nim-code">
proc matchEqualSign(line: string; start: Natural = 0): Option[Matches]
</pre>

<h3 id=matchcommaparentheses>matchCommaParentheses</h3>

<pre class="description">
Match a comma or right parentheses and the optional trailing whitespace.
</pre>

<pre class="nim-code">
proc matchCommaParentheses(line: string; start: Natural = 0): Option[Matches]
</pre>

<h3 id=matchnumber>matchNumber</h3>

<pre class="description">
Match a number and the optional trailing whitespace. Return the optional decimal point that tells whether the number is a float or integer.
</pre>

<pre class="nim-code">
proc matchNumber(line: string; start: Natural = 0): Option[Matches]
</pre>

<h3 id=matchnumbernotcached>matchNumberNotCached</h3>

<pre class="description">
Match a number and the optional trailing whitespace. Return the optional decimal point that tells whether the number is a float or integer. "Not cached" allows it to be called by a function because it has no side effects.
</pre>

<pre class="nim-code">
func matchNumberNotCached(line: string; start: Natural = 0): Option[Matches]
</pre>

<h3 id=matchuptoleftbracket>matchUpToLeftBracket</h3>

<pre class="description">
Match everything up to a left backet. The match length includes
the bracket.

A replacement variable is inside brackets.

~~~
text on the line {variable} more text {variable2} asdf
                  ^
~~~
</pre>

<pre class="nim-code">
proc matchUpToLeftBracket(line: string; start: Natural = 0): Option[Matches]
</pre>

<h3 id=matchfileline>matchFileLine</h3>

<pre class="description">
Match a file and line number like: filename(234).
</pre>

<pre class="nim-code">
proc matchFileLine(line: string; start: Natural = 0): Option[Matches]
</pre>

<h3 id=matchversion>matchVersion</h3>

<pre class="description">
Match a StaticTea version number.
</pre>

<pre class="nim-code">
proc matchVersion(line: string; start: Natural = 0): Option[Matches]
</pre>

<h3 id=matchversionnotcached>matchVersionNotCached</h3>

<pre class="description">
Match a StaticTea version number. "Not cached" allows it to be called by a function because it has no side effects.
</pre>

<pre class="nim-code">
func matchVersionNotCached(line: string; start: Natural = 0;
                           numGroups: Natural = 0): Option[Matches]
</pre>

<h3 id=matchdotnames>matchDotNames</h3>

<pre class="description">
Matches variable dot names and surrounding whitespace. Return the dot names as one string like "a.b.c.d".

A dot name is a list of variable names separated y dots.
You can have 1 to 5 variable names in a dot name.

A variable name starts with a letter followed by letters, digits
minuses and underscores limited to a total of 64 characters.
No space is allowed between the function name and the left
parentheses or bracket.
Return three groups, the leading whitespace, the dotNames and the
optional left parentheses or bracket following the dot name. The
length returned includes the optional trailing whitespace.

Example call:

~~~
let (_, dotNameStr, leftParenBrack, dotNameLen) = matchesO.get3GroupsLen()
~~~
</pre>

<pre class="nim-code">
proc matchDotNames(line: string; start: Natural = 0): Option[Matches]
</pre>

<h3 id=groupsymbol>GroupSymbol</h3>

<pre class="description">
Grouping symbols we search for in the statements.
</pre>

<pre class="nim-code">
GroupSymbol = enum
  gLeftParentheses, gRightParentheses, gLeftBracket, gRightBracket, gComma,
  gColon
</pre>

<h3 id=matchcommaorsymbol>matchCommaOrSymbol</h3>

<pre class="description">
Match a comma or the symbol and the optional trailing whitespace.
</pre>

<pre class="nim-code">
proc matchCommaOrSymbol(line: string; symbol: GroupSymbol; start: Natural = 0): Option[
    Matches]
</pre>

<h3 id=matchsymbol>matchSymbol</h3>

<pre class="description">
Match the symbol and the optional trailing whitespace.
</pre>

<pre class="nim-code">
proc matchSymbol(line: string; symbol: GroupSymbol; start: Natural = 0): Option[
    Matches]
</pre>

<h3 id=matchnotorparen>matchNotOrParen</h3>

<pre class="description">
Match "not " or "(" and the trailing whitespace.
</pre>

<pre class="nim-code">
proc matchNotOrParen(line: string; start: Natural = 0): Option[Matches]
</pre>

<h3 id=matchboolexproperator>matchBoolExprOperator</h3>

<pre class="description">
Match boolean expression operators (bool operators plus compareh operators) and the trailing whitespace.  The bool operators require a trailing space but it isn't part of the operator name returned but still in the length.
</pre>

<pre class="nim-code">
proc matchBoolExprOperator(line: string; start: Natural): Option[Matches]
</pre>

<h3 id=matchcompareoperator>matchCompareOperator</h3>

<pre class="description">
Match the compare operators and the trailing whitespace.
</pre>

<pre class="nim-code">
proc matchCompareOperator(line: string; start: Natural): Option[Matches]
</pre>

<h3 id=matchreplcmd>matchReplCmd</h3>

<pre class="description">
Match the REPL commands and the trailing optional whitespace.
</pre>

<pre class="nim-code">
proc matchReplCmd(line: string; start: Natural): Option[Matches]
</pre>

<h3 id=matchparametertype>matchParameterType</h3>

<pre class="description">
Match a parameter type and the trailing whitespace.
</pre>

<pre class="nim-code">
proc matchParameterType(line: string; start: Natural): Option[Matches]
</pre>

<h3 id=matchdoccomment>matchDocComment</h3>

<pre class="description">
Match a doc comment.
</pre>

<pre class="nim-code">
proc matchDocComment(line: string; start: Natural): Option[Matches]
</pre>

<h3 id=matchreturnstatement>matchReturnStatement</h3>

<pre class="description">
Match a return statement. a = return(...
</pre>

<pre class="nim-code">
proc matchReturnStatement(line: string; start: Natural): Option[Matches]
</pre>


<p>⦿ This page was generated
by <a href="https://github.com/flenniken/statictea/">statictea</a>
from nim doc comments. ⦿</p>

</body>
</html>
