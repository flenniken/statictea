<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
</head>
<style>
body {
    max-width: 40em;
    font-size: 2em;
    margin-left: 1em;
}

#staticteadep {
    width: 100%;
}

.signature {
    color: green;
}

.description {
    white-space: pre-wrap;
}

.nim-code {
    border-left: 6px solid green;
    padding-left: 10px;
}
</style>
<body>
<h1>regexes.nim</h1>

Perl regular expression matching.

Examples:

Match a string with "abc" in it:

~~~
let line = "123abc456"
let pattern = ".*abc"
let matchesO = matchPattern(line, pattern, start=0, numGroups=0)

check matchesO.isSome == true
check matchesO.get().length == 6
~~~

Match a file and line number like: filename(234):

~~~
let line = "template.html(87)"
let pattern = r"^(.*)(([0-9]+))$"
let matchesO = matchPatternCached(line, pattern, 0, 2)

check matchesO.isSome == true
let (filename, lineNum) = matchesO.get2Groups()
check filename == "template.html"
check lineNum == "87"
~~~

Replace the patterns in the string with their replacements:

~~~
var replacements: seq[Replacement]
replacements.add(newReplacement("abc", "456"))
replacements.add(newReplacement("def", ""))

let resultStringO = replaceMany("abcdefabc", replacements)

check resultStringO.isSome
check resultStringO.get() == "456456"
~~~

Nim source code: <a href="../../src/regexes.nim">regexes.nim</a>

<h1>Index</h1>

<ul>
<li>type:  <a href="#matches">Matches</a> &mdash; Holds the result of a match.</li>
<li>type:  <a href="#replacement">Replacement</a> &mdash; Holds the regular expression pattern and its replacement for the replaceMany function.</li>
<li> <a href="#newmatches">newMatches</a> &mdash; Create a new Matches object with no groups.</li>
<li> <a href="#newmatches-1">newMatches</a> &mdash; Create a new Matches object with one group.</li>
<li> <a href="#newmatches-2">newMatches</a> &mdash; Create a new Matches object with two groups.</li>
<li> <a href="#newmatches-3">newMatches</a> &mdash; Create a new Matches object with three groups.</li>
<li> <a href="#newmatches-4">newMatches</a> &mdash; Create a Matches object with the given number of groups.</li>
<li> <a href="#newmatches-5">newMatches</a> &mdash; Create a Matches object with the given number of groups.</li>
<li> <a href="#newreplacement">newReplacement</a> &mdash; Create a new Replacement object.</li>
<li> <a href="#getgroup">getGroup</a> &mdash; Get the group in matches.</li>
<li> <a href="#getgrouplen">getGroupLen</a> &mdash; Get the group in matches.</li>
<li> <a href="#getgroup-1">getGroup</a> &mdash; Get the group in matches.</li>
<li> <a href="#getgrouplen-1">getGroupLen</a> &mdash; Get the group in matches and the match length.</li>
<li> <a href="#get2groups">get2Groups</a> &mdash; Get two groups in matches.</li>
<li> <a href="#get2groupslen">get2GroupsLen</a> &mdash; Get two groups and length in matches.</li>
<li> <a href="#get2groups-1">get2Groups</a> &mdash; Get two groups in matches.</li>
<li> <a href="#get2groupslen-1">get2GroupsLen</a> &mdash; Get two groups and length in matchesO.</li>
<li> <a href="#get3groups">get3Groups</a> &mdash; Get three groups in matches.</li>
<li> <a href="#get3groups-1">get3Groups</a> &mdash; Get three groups in matches.</li>
<li> <a href="#get3groupslen">get3GroupsLen</a> &mdash; Return the three groups and the length of the match.</li>
<li> <a href="#getgroups">getGroups</a> &mdash; Return the number of groups specified.</li>
<li> <a href="#getgroups-1">getGroups</a> &mdash; Return the number of groups specified.</li>
<li> <a href="#matchpattern">matchPattern</a> &mdash; Match a regular expression pattern in a string.</li>
<li> <a href="#matchpatterncached">matchPatternCached</a> &mdash; Match a pattern in a string and cache the compiled regular
expression pattern for next time.</li>
<li> <a href="#replacemany">replaceMany</a> &mdash; Replace the patterns in the string with their replacements.</li>
</ul>

<h3 id=matches>Matches</h3>

<pre class="description">
Holds the result of a match.
* groups -- list of matching groups
* length -- length of the match
* start -- where the match started
* numGroups -- number of groups
</pre>

<pre class="nim-code">
Matches = object
  groups*: seq[string]
  length*: Natural
  start*: Natural
  numGroups*: Natural

</pre>

<h3 id=replacement>Replacement</h3>

<pre class="description">
Holds the regular expression pattern and its replacement for the replaceMany function.
</pre>

<pre class="nim-code">
Replacement = object
  pattern*: string
  sub*: string

</pre>

<h3 id=newmatches>newMatches</h3>

<pre class="description">
Create a new Matches object with no groups.
</pre>

<pre class="nim-code">
func newMatches(length: Natural; start: Natural): Matches
</pre>

<h3 id=newmatches-1>newMatches</h3>

<pre class="description">
Create a new Matches object with one group.
</pre>

<pre class="nim-code">
func newMatches(length: Natural; start: Natural; group: string): Matches
</pre>

<h3 id=newmatches-2>newMatches</h3>

<pre class="description">
Create a new Matches object with two groups.
</pre>

<pre class="nim-code">
func newMatches(length: Natural; start: Natural; group1: string; group2: string): Matches
</pre>

<h3 id=newmatches-3>newMatches</h3>

<pre class="description">
Create a new Matches object with three groups.
</pre>

<pre class="nim-code">
func newMatches(length: Natural; start: Natural; group1: string; group2: string;
                group3: string): Matches
</pre>

<h3 id=newmatches-4>newMatches</h3>

<pre class="description">
Create a Matches object with the given number of groups.
</pre>

<pre class="nim-code">
proc newMatches(length: Natural; start: Natural; groups: seq[string]): Matches
</pre>

<h3 id=newmatches-5>newMatches</h3>

<pre class="description">
Create a Matches object with the given number of groups.
</pre>

<pre class="nim-code">
proc newMatches(length: Natural; start: Natural; numGroups: Natural): Matches
</pre>

<h3 id=newreplacement>newReplacement</h3>

<pre class="description">
Create a new Replacement object.
</pre>

<pre class="nim-code">
func newReplacement(pattern: string; sub: string): Replacement
</pre>

<h3 id=getgroup>getGroup</h3>

<pre class="description">
Get the group in matches.
</pre>

<pre class="nim-code">
func getGroup(matches: Matches): string
</pre>

<h3 id=getgrouplen>getGroupLen</h3>

<pre class="description">
Get the group in matches.
</pre>

<pre class="nim-code">
func getGroupLen(matches: Matches): (string, Natural)
</pre>

<h3 id=getgroup-1>getGroup</h3>

<pre class="description">
Get the group in matches.
</pre>

<pre class="nim-code">
func getGroup(matchesO: Option[Matches]): string
</pre>

<h3 id=getgrouplen-1>getGroupLen</h3>

<pre class="description">
Get the group in matches and the match length.
</pre>

<pre class="nim-code">
func getGroupLen(matchesO: Option[Matches]): (string, Natural)
</pre>

<h3 id=get2groups>get2Groups</h3>

<pre class="description">
Get two groups in matches.
</pre>

<pre class="nim-code">
func get2Groups(matches: Matches): (string, string)
</pre>

<h3 id=get2groupslen>get2GroupsLen</h3>

<pre class="description">
Get two groups and length in matches.
</pre>

<pre class="nim-code">
func get2GroupsLen(matches: Matches): (string, string, Natural)
</pre>

<h3 id=get2groups-1>get2Groups</h3>

<pre class="description">
Get two groups in matches.
</pre>

<pre class="nim-code">
func get2Groups(matchesO: Option[Matches]): (string, string)
</pre>

<h3 id=get2groupslen-1>get2GroupsLen</h3>

<pre class="description">
Get two groups and length in matchesO.
</pre>

<pre class="nim-code">
func get2GroupsLen(matchesO: Option[Matches]): (string, string, Natural)
</pre>

<h3 id=get3groups>get3Groups</h3>

<pre class="description">
Get three groups in matches.
</pre>

<pre class="nim-code">
func get3Groups(matches: Matches): (string, string, string)
</pre>

<h3 id=get3groups-1>get3Groups</h3>

<pre class="description">
Get three groups in matches.
</pre>

<pre class="nim-code">
func get3Groups(matchesO: Option[Matches]): (string, string, string)
</pre>

<h3 id=get3groupslen>get3GroupsLen</h3>

<pre class="description">
Return the three groups and the length of the match.
</pre>

<pre class="nim-code">
func get3GroupsLen(matchesO: Option[Matches]): (string, string, string, Natural)
</pre>

<h3 id=getgroups>getGroups</h3>

<pre class="description">
Return the number of groups specified. If one of the groups doesn't exist, "" is returned for it.
</pre>

<pre class="nim-code">
func getGroups(matches: Matches; numGroups: Natural): seq[string]
</pre>

<h3 id=getgroups-1>getGroups</h3>

<pre class="description">
Return the number of groups specified. If one of the groups doesn't exist, "" is returned for it.
</pre>

<pre class="nim-code">
func getGroups(matchesO: Option[Matches]; numGroups: Natural): seq[string]
</pre>

<h3 id=matchpattern>matchPattern</h3>

<pre class="description">
Match a regular expression pattern in a string. Start is the
index in the string to start the search. NumGroups is the number
of groups in the pattern.

Note: the pattern uses the anchored option.
</pre>

<pre class="nim-code">
func matchPattern(str: string; pattern: string; start: Natural;
                  numGroups: Natural): Option[Matches]
</pre>

<h3 id=matchpatterncached>matchPatternCached</h3>

<pre class="description">
Match a pattern in a string and cache the compiled regular
expression pattern for next time. Start is the index in the
string to start the search. NumGroups is the number of groups in
the pattern.
</pre>

<pre class="nim-code">
proc matchPatternCached(str: string; pattern: string; start: Natural;
                        numGroups: Natural): Option[Matches]
</pre>

<h3 id=replacemany>replaceMany</h3>

<pre class="description">
Replace the patterns in the string with their replacements.
</pre>

<pre class="nim-code">
proc replaceMany(str: string; replacements: seq[Replacement]): Option[string]
</pre>


<p>⦿ This page was generated
by <a href="https://github.com/flenniken/statictea/">statictea</a>
from nim doc comments. ⦿</p>

</body>
</html>
