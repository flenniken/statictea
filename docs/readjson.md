# readjson.nim

Read json content.

* [readjson.nim](../src/readjson.nim) &mdash; Nim source code.
# Index

* const: [maxDepth](#maxdepth) &mdash; The maximum depth you can nest items.
* [jsonToValue](#jsontovalue) &mdash; Convert a Nim json node to a statictea value.
* [readJsonStream](#readjsonstream) &mdash; Read a json stream and return the parsed data in a value object or return a warning.
* [readJsonString](#readjsonstring) &mdash; Read a json string and return the parsed data in a value object or return a warning.
* [readJsonFile](#readjsonfile) &mdash; Read a json file and return the parsed data in a value object or return a warning.
* [unescapePopularChar](#unescapepopularchar) &mdash; Unescape the popular char and return its value.
* [parseJsonStr](#parsejsonstr) &mdash; Parse the quoted json string literal.

# maxDepth

The maximum depth you can nest items.

```nim
maxDepth = 16
```

# jsonToValue

Convert a Nim json node to a statictea value.

```nim
proc jsonToValue(jsonNode: JsonNode; depth: int = 0): ValueOr
```

# readJsonStream

Read a json stream and return the parsed data in a value object or return a warning.

```nim
proc readJsonStream(stream: Stream): ValueOr
```

# readJsonString

Read a json string and return the parsed data in a value object or return a warning.

```nim
proc readJsonString(content: string): ValueOr
```

# readJsonFile

Read a json file and return the parsed data in a value object or return a warning. A warning is returned when the root object is not a dictionary.

```nim
proc readJsonFile(filename: string): ValueOr
```

# unescapePopularChar

Unescape the popular char and return its value. If the char is
not a popular char, return 0.

 Popular characters and their escape values:

|char      | name           | unicode|
|----------|----------------|--------|
|"         | quotation mark | U+0022 |
|\        | reverse solidus| U+005C |
|/         | solidus        | U+002F |
|b         | backspace      | U+0008 |
|f         | form feed      | U+000C |
|n         | line feed      | U+000A |
|r         | carriage return| U+000D |
|t         | tab            | U+0009 |

```nim
proc unescapePopularChar(popular: char): char
```

# parseJsonStr

Parse the quoted json string literal. The startPos points one
past the leading double quote.  Return the parsed string value
and the ending position after the trailing whitespace. On
failure, the ending position points at the invalid character and
the message id tells what went wrong.

~~~
a = "test string"  # test
     ^             ^
~~~~

```nim
func parseJsonStr(text: string; startPos: Natural): ValueAndPosOr
```


---
⦿ Markdown page generated by [StaticTea](https://github.com/flenniken/statictea/) from nim doc comments. ⦿
