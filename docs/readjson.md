# readjson.nim

Read json content.

* [readjson.nim](../src/readjson.nim) &mdash; Nim source code.
# Index

* [jsonToValue](#jsontovalue) &mdash; Convert a json value to a statictea value.
* [readJsonStream](#readjsonstream) &mdash; Read a json stream and return the variables.
* [readJsonString](#readjsonstring) &mdash; Read a json string and return the variables.
* [readJsonFile](#readjsonfile) &mdash; Read a json file and return the variables.
* type: [ParsedString](#parsedstring) &mdash; ParsedString holds the result of parsing a string literal.
* [newParsedString](#newparsedstring) &mdash; Create a new ParsedString object.
* [unescapePopularChar](#unescapepopularchar) &mdash; Unescape the popular char and return its value.
* [parseJsonStr](#parsejsonstr) &mdash; Parse the quoted json string literal.

# jsonToValue

Convert a json value to a statictea value.

```nim
proc jsonToValue(jsonNode: JsonNode; depth: int = 0): Option[Value]
```

# readJsonStream

Read a json stream and return the variables.  If there is an error, return a warning. The filename is used in warning messages.

```nim
proc readJsonStream(stream: Stream; filename: string = ""): ValueOrWarning
```

# readJsonString

Read a json string and return the variables.  If there is an error, return a warning. The filename is used in warning messages.

```nim
proc readJsonString(content: string; filename: string = ""): ValueOrWarning
```

# readJsonFile

Read a json file and return the variables.  If there is an error, return a warning.

```nim
proc readJsonFile(filename: string): ValueOrWarning
```

# ParsedString

ParsedString holds the result of parsing a string literal. The
resulting parsed string and the ending string position.

* str -- Resulting parsed string.
* pos -- The position after the last trailing whitespace or the
position at the first invalid character.
* messageId -- Message id is 0 when the string was successfully
parsed, else it is the message id telling what went wrong.

```nim
ParsedString = object
  str*: string
  pos*: Natural
  messageId*: MessageId

```

# newParsedString

Create a new ParsedString object.

```nim
func newParsedString(str: string; pos: Natural; messageId: MessageId): ParsedString
```

# unescapePopularChar

Unescape the popular char and return its value. If the char is not a popular char, return 0.

```nim
proc unescapePopularChar(popular: char): char
```

# parseJsonStr

Parse the quoted json string literal. The startPos points one past the leading double quote.  Return the parsed string value and the ending position one past the trailing whitespace. On failure, the ending position points at the invalid character and the message id tells what went wrong.

```nim
func parseJsonStr(text: string; startPos: Natural): ParsedString
```


---
⦿ Markdown page generated by [StaticTea](https://github.com/flenniken/statictea/) from nim doc comments. ⦿
