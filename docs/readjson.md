# readjson.nim

Read json content.

* [readjson.nim](../src/readjson.nim) &mdash; Nim source code.
# Index

* [jsonToValue](#jsontovalue) &mdash; Convert a json value to a statictea value.
* [readJsonStream](#readjsonstream) &mdash; Read a json stream and return the variables.
* [readJsonString](#readjsonstring) &mdash; Read a json string and return the variables.
* [readJsonFile](#readjsonfile) &mdash; Read a json file and return the variables.
* type: [ParsedString](#parsedstring) &mdash; ParsedString holds the result of parsing a string literal.
* [newParsedString](#newparsedstring) &mdash; Create a new ParsedString object.
* [unescapePopularChar](#unescapepopularchar) &mdash; Unescape the popular char and return its value.
* [parseHexUnicode16](#parsehexunicode16) &mdash; Return the unicode number given a 4 character unicode escape string like u1234.
* [parseHexUnicode](#parsehexunicode) &mdash; Return the unicode number given a 4 or 8 character unicode escape string like u1234 or u1234u1234 and advance the pos.
* [parseJsonStr](#parsejsonstr) &mdash; Parse the quoted json string literal.

# jsonToValue

Convert a json value to a statictea value.

```nim
proc jsonToValue(jsonNode: JsonNode; depth: int = 0): Option[Value]
```

# readJsonStream

Read a json stream and return the variables.  If there is an error, return a warning. The filename is used in warning messages.

```nim
proc readJsonStream(stream: Stream; filename: string = ""): ValueOrWarning
```

# readJsonString

Read a json string and return the variables.  If there is an error, return a warning. The filename is used in warning messages.

```nim
proc readJsonString(content: string; filename: string = ""): ValueOrWarning
```

# readJsonFile

Read a json file and return the variables.  If there is an error, return a warning.

```nim
proc readJsonFile(filename: string): ValueOrWarning
```

# ParsedString

ParsedString holds the result of parsing a string literal. The resulting parsed string and the ending string position.

```nim
ParsedString = object
  str*: string               ## Resulting parsed string.
  pos*: Natural              ## The position after the last trailing whitespace
                             ## or the position at the first invalid character.
  messageId*: MessageId      ## Message id is 0 when the string was
                             ## successfully parsed, else it is the
                             ## message id telling what went wrong.

```

# newParsedString

Create a new ParsedString object.

```nim
func newParsedString(str: string; pos: Natural; messageId: MessageId): ParsedString
```

# unescapePopularChar

Unescape the popular char and return its value. If the char is not a popular char, return 0.

```nim
proc unescapePopularChar(popular: char): char
```

# parseHexUnicode16

Return the unicode number given a 4 character unicode escape string like u1234. Start is pointing at the u. On error, return a message id telling what went wrong.

```nim
proc parseHexUnicode16(text: string; start: Natural): OpResultId[int32]
```

# parseHexUnicode

Return the unicode number given a 4 or 8 character unicode escape string like u1234 or u1234u1234 and advance the pos. Pos is initially pointing at the u. On error, return the message id telling what went wrong and pos points at the error.

```nim
proc parseHexUnicode(text: string; pos: var Natural): OpResultId[int32]
```

# parseJsonStr

Parse the quoted json string literal. The startPos points one past the leading double quote.  Return the parsed string value and the ending position one past the trailing whitespace. On failure, the ending position points at the invalid character and the message id tells what went wrong.

```nim
proc parseJsonStr(text: string; startPos: Natural): ParsedString
```


---
⦿ Markdown page generated by [StaticTea](https://github.com/flenniken/statictea/) from nim doc comments. ⦿
