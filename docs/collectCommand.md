# collectCommand.nim

Collect template command lines.

* [collectCommand.nim](../src/collectCommand.nim) &mdash; Nim source code.
# Index

* type: [ExtraLineKind](#extralinekind) &mdash; The ExtraLine type.
* type: [ExtraLine](#extraline) &mdash; The extra line and its type.
* type: [CmdLines](#cmdlines) &mdash; The collected command lines and their parts.
* [newNormalLine](#newnormalline) &mdash; Create a normal ExtraLine.
* [newNoLine](#newnoline) &mdash; Create a no line ExtraLine.
* [newOutOfLines](#newoutoflines) &mdash; Create an out of lines ExtraLine.
* [collectCommand](#collectcommand) &mdash; Read template lines and write out non-command lines.
* [collectReplaceCommand](#collectreplacecommand) &mdash; Collect the replace commands.

# ExtraLineKind

The ExtraLine type.

```nim
ExtraLineKind = enum
  elkNoLine,                ## there is no line here
  elkOutOfLines,            ## no more lines in the template
  elkNormalLine              ## we have a line of some type.
```

# ExtraLine

The extra line and its type. The line is empty except for the elkNormalLine type.

```nim
ExtraLine = object
  kind*: ExtraLineKind
  line*: string

```

# CmdLines

The collected command lines and their parts.

```nim
CmdLines = object
  lines*: seq[string]
  lineParts*: seq[LineParts]

```

# newNormalLine

Create a normal ExtraLine.

```nim
func newNormalLine(line: string): ExtraLine
```

# newNoLine

Create a no line ExtraLine.

```nim
func newNoLine(): ExtraLine
```

# newOutOfLines

Create an out of lines ExtraLine.

```nim
func newOutOfLines(): ExtraLine
```

# collectCommand

Read template lines and write out non-command lines. When a nextline, block or replace command is found, return its lines. This includes the command line and its continue lines.  On input extraLine is the first line to use.  On exit extraLine is the line that caused the collection to stop which is commonly the first replacement block line.

```nim
proc collectCommand(env: var Env; lb: var LineBuffer;
                    prepostTable: PrepostTable; extraLine: var ExtraLine): CmdLines
```

# collectReplaceCommand

Collect the replace commands.  Read template lines and write out non-command lines. When a replace command is found, return its lines.  This includes the command line and its continue lines. On input extraLine is the first line to use.  On exit extraLine is the line that caused the collection to stop which is commonly the first replacement block line.

```nim
proc collectReplaceCommand(env: var Env; lb: var LineBuffer;
                           prepostTable: PrepostTable; extraLine: var ExtraLine): CmdLines
```


---
⦿ Markdown page generated by [StaticTea](https://github.com/flenniken/statictea/) from nim doc comments. ⦿
